# ============================================================================
# ENVIRONMENT CONFIGURATION
# Copy this file to .env and fill in your actual values
# ============================================================================

# Application
NODE_ENV=development
PORT=3000
APP_URL=https://yourapp.com
API_SECRET_KEY=your-super-secret-key-change-this-in-production

# Database
DB_PATH=./data/invoices.db
DB_POOL_MIN=2
DB_POOL_MAX=10

# Redis (for Bull queue)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# File Storage
STORAGE_TYPE=local
# Options: local, s3
STORAGE_LOCAL_PATH=./storage/invoices
STORAGE_BASE_URL=https://yourapp.com/files

# AWS S3 (if using S3 storage)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-access-key
AWS_SECRET_ACCESS_KEY=your-secret-key
S3_BUCKET_NAME=your-invoice-bucket
S3_PRESIGNED_URL_EXPIRY=604800
# 7 days in seconds

# Email Provider: SendGrid
SENDGRID_API_KEY=SG.your-sendgrid-api-key
EMAIL_FROM=invoices@yourcompany.com
EMAIL_FROM_NAME=Your Company
EMAIL_REPLY_TO=support@yourcompany.com

# Email Provider: Mailgun (alternative)
MAILGUN_API_KEY=your-mailgun-api-key
MAILGUN_DOMAIN=mg.yourcompany.com
MAILGUN_HOST=api.mailgun.net

# Email Provider: AWS SES (alternative)
AWS_SES_REGION=us-east-1
AWS_SES_ACCESS_KEY=your-ses-access-key
AWS_SES_SECRET_KEY=your-ses-secret-key

# SMS Provider: Twilio
TWILIO_ACCOUNT_SID=AC...your-account-sid
TWILIO_AUTH_TOKEN=your-auth-token
TWILIO_PHONE_NUMBER=+1234567890
TWILIO_MESSAGING_SERVICE_SID=MG...optional

# SMS Provider: Vonage (alternative)
VONAGE_API_KEY=your-vonage-key
VONAGE_API_SECRET=your-vonage-secret
VONAGE_PHONE_NUMBER=1234567890

# PDF Generation
PDF_GENERATOR=puppeteer
# Options: puppeteer, wkhtmltopdf
PUPPETEER_EXECUTABLE_PATH=
# Leave empty to use bundled Chromium
PDF_PAGE_FORMAT=A4
PDF_MARGIN_TOP=20mm
PDF_MARGIN_BOTTOM=20mm
PDF_MARGIN_LEFT=15mm
PDF_MARGIN_RIGHT=15mm

# Job Queue Configuration
QUEUE_CONCURRENT_JOBS=5
QUEUE_MAX_RETRY_ATTEMPTS=3
QUEUE_RETRY_DELAY=300000
# 5 minutes in milliseconds
QUEUE_BACKOFF_TYPE=exponential
# exponential or fixed

# Security
SIGNED_URL_SECRET=your-url-signing-secret-change-this
SIGNED_URL_EXPIRY_DAYS=7
JWT_SECRET=your-jwt-secret-change-this
JWT_EXPIRY=24h
BCRYPT_ROUNDS=10

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
# 15 minutes
RATE_LIMIT_MAX_REQUESTS=100

# Monitoring & Logging
LOG_LEVEL=info
# Options: error, warn, info, debug
LOG_FILE=./logs/app.log
SENTRY_DSN=
# Your Sentry DSN for error tracking

# Webhooks
WEBHOOK_SECRET=your-webhook-secret
SENDGRID_WEBHOOK_URL=/webhooks/sendgrid
TWILIO_WEBHOOK_URL=/webhooks/twilio

# Feature Flags
FEATURE_AUTO_SEND_EMAIL=true
FEATURE_AUTO_SEND_SMS=false
FEATURE_EMAIL_TRACKING=true
FEATURE_SMS_TRACKING=true

# GDPR Compliance
GDPR_DATA_RETENTION_DAYS=2555
# 7 years
GDPR_REQUIRE_CONSENT=true
